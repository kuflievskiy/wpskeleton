## Wordpress skeleton
Our WordPress stack.

## Main features:

* Dependency Manager for PHP - [Composer](https://getcomposer.org/)
* Dependency Manager for WP (plugins/themes) - [WordPress Packagist](https://wpackagist.org/)
* For environment variables - [yaml](http://symfony.com/doc/current/components/yaml.html)
* Codeception for testing - [Codeception](http://codeception.com/)
* PHP Code Style for WordPress - [Coding Standards](https://make.wordpress.org/core/handbook/best-practices/coding-standards/php/)
* PHP Copy Paste Detector - [Copy/Paste Detector](https://github.com/sebastianbergmann/phpcpd)
* PHP Mess Detector - [Mess Detector](https://phpmd.org/)
* [ApacheAnt](http://ant.apache.org/) configuration XML file (Windows only) for [Jenkins CI tool](https://jenkins.io/)

## How to install?

### 1. Clone WPSkeleton

```bash
mkdir wp-skeleton
cd wp-skeleton
git clone https://....../wpskeleton.git .
```

### 2. Run composer

```bash
composer install
```

### 3. Create database

### 4. Configure WordPress

```bash
vim ./configs/settings.yml

# Edit configuration parameters:

wp_home
wp_siteurl
db
  name: xxxxx
  user: xxxxx
  password: xxxx
```

### 5. Remove .git folder, init another repository


## How to start contributing 

In order to start  contributing you should set up your dev-project as described in `How to install` section above.
Then developers can check/apply fixes on it and push them to the repository.

### Basic workflow for contributers

#### 1. Install dev-project. See `How to install` section for more details.

#### 2. Create an issue on bitbucket 

Create issue description
  
Issue template
	
#### 3. Create new branch from development

```bash
git checkout development  
git checkout -b fix/some-fix-name#123

# some-fix-name - issue name ( should be created before)
# 123 - issue number
```

Please follow this naming convention for .git branches.

For new feature : 

```
feature/some-issue-name#123 
enhancement/some-issue-name#123
```

For some fix : 

```
fix/some-issue-name#123
```

For some hotfix(asap issue) : 

```
hotfix/some-issue-name#123
```

#### 4. Apply fix/change and commit it.

```bash
git add --all
git commit -m "Issue #123 - some description"
```

## How to use?

* Run Tests ```composer tests```
* Run PHP Code Style check ```composer cs```
* Run PHP Copy Paste Detector check ```composer cp```
* Run PHP Mess Detector check ```composer md```

## Some additional configs

* Codeception test are generated by ```post-install-cmd``` composer hook, so you able to write your own tests in Codeception dir
* Code style are checked by PHP CodeSniffer and [WordPress extensions](https://github.com/WordPress-Coding-Standards/WordPress-Coding-Standards), so you can edit composer.json to choose specific standard subset and specify directory
* Copy paste detector and mess detector also must be cofigured for specific dir usage.
* Also, mess detector use custom ruleset, which placed at ```rulesets``` directory.
* All test results are saving in ```results``` directory in ```*.result.txt``` file